<?php
/**
 * Add the table column header.
 * @param	$post_columns	string[]	An associative array of column headings.
 * @see https://developer.wordpress.org/reference/hooks/manage_post_type_posts_columns/
 */
function badger_posts_table_<%= machineName %>_column_header( $post_columns ) {
	$offset = array_search('<%= insertBefore %>', array_keys($post_columns));
	return array_merge(
		array_slice($post_columns, 0, $offset),
		[ '<%= machineName %>', __( '<%= title %>', '<%= textdomain %>' ) ],
		array_slice($post_columns, $offset, null)
	);
}
<%_ postTypes.forEach(function (postType) { _%>
<%- `add_filter( 'manage_${postType}_posts_columns', 'badger_posts_table_${machineName}_column_header' );` %>
<%_ }) _%>

/**
 * Output column content for each post.
 * @param	$column_name	string	The name of the column to display.
 * @param	$post_id		int		The current post ID.
 * @see https://developer.wordpress.org/reference/hooks/manage_post-post_type_posts_custom_column/
 */
function badger_posts_table_<%= machineName %>_column_content( $column_name, $post_id ) {
	if ( $column_name === '<%= machineName %>' ) {
		// output goes here.
	}
}
<%_ postTypes.forEach(function (postType) { _%>
<%- `add_filter( 'manage_${postType}_posts_custom_column', 'badger_posts_table_${machineName}_column_content', 10, 2 );` %>
<%_ }) _%>

<%_ if (isSortable) { _%>
/**
 * Add the custom column to the list of sortable columns for the screen.
 * @param	array	An array of sortable columns.
 * @see https://developer.wordpress.org/reference/hooks/manage_this-screen-id_sortable_columns/
 */
function badger_posts_table_<%= machineName %>_column_sortable( $sortable_columns ) {
	$columns['<%= machineName %>'] = '<%= machineName %>';
	return $columns;
}
<%_ postTypes.forEach(function (postType) { _%>
<%- `add_filter( 'manage_edit-${postType}_sortable_columns', 'badger_posts_table_${machineName}_column_sortable' );` %>
<%_ }) _%>

/**
 * Tell the query how to interpret this custom `orderby` parameter.
 * @param	$query	The WP_Query instance.
 * @see https://developer.wordpress.org/reference/hooks/pre_get_posts/
 */
function badger_posts_table_<%= machineName %>_column_sort( $query ) {
	if ( is_admin() && $query->get( 'orderby' ) === '<%= machineName %>' ) {
		// Custom query alterations go here.
		// $query->set('orderby', '');
	}
}
add_action( 'pre_get_posts', 'badger_posts_table_<%= machineName %>_column_sort' );
<%_ } _%>